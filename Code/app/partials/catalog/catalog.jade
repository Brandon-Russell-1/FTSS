div(class='{{wellCollapse}}')

    div(ng-repeat='(header, group) in groups')

        h3(style='border-bottom: 1px solid; margin-top:20px')
            | {{header}}
            span.pull-right {{group.length}}

        table(class='table table-striped table-expanded table-hover group{{groupBy}} rollup', fixed-header)

            thead(ng-class='{slim:(count > 1 && group.length == 1)}')
                tr
                    th
                    th.w50 Course
                    th.w10 MDS
                    th.w10 AFSC
                    th.w15 Length
                    th.w15 Actions

            tbody
                tr(ng-repeat='r in group')
                    td
                        updated r
                    td(style='text-transform: uppercase')
                        b {{r.PDS}}
                        |&nbsp;-&nbsp;{{r.Number}}&nbsp;
                        span(ng-if='r.IMDS')
                            |({{r.IMDS}})

                        span.pull-right(ng-if='r.Units', hover='{{r.PDS}} is taught by {{r.Units.length}} FTDs:', content='{{r.units}}', style='margin-right: 15px;')
                            icon(path='instructor')
                        br
                        span.peek {{r.Title}}
                    td
                        b {{r.MDS}}
                    td
                        b {{r.AFSC}}
                    td
                        | Days:&nbsp;
                        b {{r.Days}}
                        br
                        span.peek
                            | Hours:&nbsp;
                            b {{r.Hours}}
                    td.invert(ng-once='')
                        button.btn.btn-sm.btn-info.btn-muted(type='button', ng-click='view(r.Id)')
                            icon(path='search')
                        button.btn.btn-sm.btn-warning.btn-muted(type='button', ng-click='edit(r)')
                            icon(path='edit')
                        button.btn.btn-sm.btn-danger.btn-muted(type='button', ng-click='archive(r.Id)')
                            icon(path='delete')
