include ../_mixins

#main-stats.am-slide-right
    .row.stats-row
        #backlog BACKLOG
        .backlogGradient.stat
        .col-md-3.stat
            .data
                span.number {{totals.reqs}}
                | Courses
            span.date
                b(style='color:#32a0ee') {{totals.reqsTDY}}&nbsp;
                | Require TDY

        .col-md-3.stat
            .data
                span.number {{totals.students}}
                | Students
            span.date
                b(style='color:#32a0ee') {{totals.pctStudents}}%&nbsp;
                | Backlogged

        .col-md-3.stat
            .data
                span.number {{totals.avg[1]}}
                | {{totals.avg[2]}}
            span.date Average Wait Time

        .col-md-2.stat.last
            .data
                span.number {{totals.max[1]}}
                | {{totals.max[2]}}
            span.date Longest Wait Time

br
div
    .graph.pull-left(width='.58', height='300', type='bar')
    .graph.pull-right(width='.38', height='300', type='pie')
    .clearfix

div(class='{{wellCollapse}}')

    div.am-fade-and-slide-bottom(ng-repeat='(header, group) in groups')

        h3(style='border-bottom: 1px solid; margin-top:20px; margin-bottom:15px')
            | {{header}}
            span.pull-right {{group.length}}

        .well(ng-repeat='row in group', ng-once)

            h4
                span.btn.btn-info
                    span.bigLetter {{row.requirements.length}}
                    | {{row.Number}} Requirement
                span.pull-right(style='margin-top:5px') {{row.Title}} -&nbsp;
                    b {{row.PDS}}

            hr.rollup

            .rollup.slide

                .col-lg-3


                    table.table.table-split
                        tbody
                            tr
                                td MDS
                                td {{row.MDS}}
                            tr
                                td AFSC
                                td {{row.AFSC}}
                            tr
                                td Length
                                td {{row.Days}} Days / {{row.Hours}} Hours
                            tr
                                td Limits
                                td {{row.Min}} Min / {{row.Max}} Max
                            tr
                                td Local FTD
                                td {{row.localFTD}}

                    table.table.table-split(ng-if='row.listFTD.length > 0')
                        thead: tr: th.truncate(colspan='2') Additional Locations Taught

                        tbody
                            tr(ng-repeat="u in row.listFTD | orderBy:'distanceInt'")
                                td {{u.distance}}
                                td {{u.LongName}}

                .col-lg-1


                .col-lg-3
                    table.table.table-split
                        tbody
                            tr
                                td Required #
                                td {{row.requirements.length}} student(s)

                            tr
                                td Avg Wait
                                td {{row.avgWait}}

                            tr
                                td Longest Wait
                                td {{row.maxWait}}


            .clearfix

        .clearfix